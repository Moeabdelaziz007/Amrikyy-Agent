# ========================================
# Maya Travel Agent - Environment Template
# ========================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env file to version control
# ========================================

# ========================================
# SERVER CONFIGURATION
# ========================================
PORT=5000
NODE_ENV=development
# Options: development, production, test

# ========================================
# LOGGING
# ========================================
LOG_LEVEL=info
# Options: error, warn, info, debug, trace

# ========================================
# DATABASE (SUPABASE)
# ========================================
# Get these from: https://app.supabase.com/project/_/settings/api
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# ========================================
# TELEGRAM BOT
# ========================================
# Get bot token from: https://t.me/BotFather
# NEVER commit your actual token to git
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_WEBHOOK_URL=https://yourdomain.com/api/payment/telegram-webhook

# ========================================
# TELEGRAM MINI APP
# ========================================
WEB_APP_URL=https://yourdomain.com
TELEGRAM_MINI_APP_URL=https://yourdomain.com

# ========================================
# AI CONFIGURATION - Kelo AI GLM-4.6
# ========================================
# Get API key from: https://kelo.ai
KELO_API_KEY=your_kelo_api_key_here
KELO_API_BASE_URL=https://api.kelo.ai/v4
KELO_MODEL=glm-4.6
KELO_MAX_TOKENS=2000
KELO_TEMPERATURE=0.7

# ========================================
# AI CONFIGURATION - Google Gemini (Alternative)
# ========================================
# Get API key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-2.0-flash
GEMINI_MAX_TOKENS=2000
GEMINI_TEMPERATURE=0.7

# ========================================
# AI CONFIGURATION - OpenRouter API
# ========================================
# Get API key from: https://openrouter.ai
OPENROUTER_API_KEY=your_openrouter_api_key_here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_DEFAULT_MODEL=meta-llama/llama-3.1-8b-instruct:free
OPENROUTER_MAX_TOKENS=4000
OPENROUTER_TEMPERATURE=0.7

# ========================================
# AI CONFIGURATION - Kelo AI (Advanced)
# ========================================
# Get API key from: https://kelo.ai
KELO_API_KEY=your_kelo_api_key_here
KELO_BASE_URL=https://api.kelo.ai/v1
KELO_MODEL=kelo-travel-pro
KELO_MAX_TOKENS=3000
KELO_TEMPERATURE=0.7
KELO_CONTEXT_WINDOW=8000

# ========================================
# PAYMENT PROVIDERS
# ========================================

# Stripe Configuration
# Get keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=your_stripe_webhook_secret_here

# PayPal Configuration
# Get credentials from: https://developer.paypal.com/
PAYPAL_CLIENT_ID=your_paypal_client_id_here
PAYPAL_CLIENT_SECRET=your_paypal_client_secret_here
PAYPAL_MODE=sandbox
# Options: sandbox, live

# ========================================
# EMAIL SERVICE (GMAIL)
# ========================================
# Setup Instructions:
# 1. Enable 2-Step Verification on your Gmail account
# 2. Generate an App Password: https://myaccount.google.com/apppasswords
# 3. Use your Gmail address and the 16-character app password below
GMAIL_USER=your-email@gmail.com
GMAIL_APP_PASSWORD=your-16-char-app-password

# ========================================
# SECURITY
# ========================================
# Generate strong random strings for these
# Example: openssl rand -base64 32
JWT_SECRET=your_jwt_secret_here_minimum_32_characters
ENCRYPTION_KEY=your_encryption_key_here_minimum_32_characters

# ========================================
# CORS CONFIGURATION
# ========================================
CORS_ORIGIN=http://localhost:3000
# For production, use your actual domain
# Multiple origins: http://localhost:3000,https://yourdomain.com

# ========================================
# RATE LIMITING
# ========================================
RATE_LIMIT_WINDOW_MS=900000
# Window in milliseconds (default: 15 minutes)
RATE_LIMIT_MAX_REQUESTS=100
# Max requests per window per IP

# ========================================
# WHATSAPP BUSINESS API
# ========================================
# Get credentials from: https://developers.facebook.com/
WHATSAPP_ACCESS_TOKEN=your_whatsapp_access_token_here
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id_here
WHATSAPP_BUSINESS_ACCOUNT_ID=your_business_account_id_here
WHATSAPP_TEST_NUMBER=+15556439900
WHATSAPP_WEBHOOK_VERIFY_TOKEN=your_webhook_verify_token_here
WHATSAPP_API_VERSION=v21.0

# ========================================
# TRAVEL APIs (REQUIRED)
# ========================================

# Kiwi Tequila API (Flights)
# Get your API key from: https://tequila.kiwi.com/portal/login
KIWI_API_KEY=your_kiwi_api_key_here
KIWI_API_BASE_URL=https://api.tequila.kiwi.com

# Booking.com Affiliate API (Hotels)
# Get your credentials from: https://www.booking.com/affiliate-program
BOOKING_COM_AFFILIATE_ID=your_booking_affiliate_id_here
BOOKING_COM_API_KEY=your_booking_api_key_here
BOOKING_COM_API_BASE_URL=https://distribution-xml.booking.com/2.7/json

# Mapbox API (Maps & Geocoding)
# Get your API key from: https://account.mapbox.com
MAPBOX_API_KEY=your_mapbox_api_key_here
MAPBOX_API_BASE_URL=https://api.mapbox.com

# ========================================
# OPTIONAL: THIRD-PARTY INTEGRATIONS
# ========================================

# Amadeus API (Alternative flight booking)
AMADEUS_API_KEY=your_amadeus_api_key_here
AMADEUS_API_SECRET=your_amadeus_api_secret_here
AMADEUS_BASE_URL=https://test.api.amadeus.com

# Google Maps API (Alternative location services)
GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here

# ========================================
# SCOUT AGENT CONFIGURATION
# ========================================

# Price Tracking Configuration
PRICE_TRACKING_ENABLED=true
PRICE_TRACKING_INTERVAL=3600000  # 1 hour in milliseconds
PRICE_DROP_THRESHOLD=20  # Percentage drop to trigger alert

# Interest Analysis Configuration
INTEREST_ANALYSIS_ENABLED=true
INTEREST_CACHE_TTL=86400000  # 24 hours in milliseconds
INTEREST_CONFIDENCE_THRESHOLD=0.7

# Proactive Offers Configuration
PROACTIVE_OFFERS_ENABLED=true
PROACTIVE_OFFERS_MAX_COUNT=5
PROACTIVE_OFFERS_VALIDITY_DAYS=7

# External APIs for Scout Tools
SERPAPI_KEY=your_serpapi_key_here
SERPAPI_BASE_URL=https://serpapi.com/search

# Kiwi API for flight tracking
KIWI_API_KEY=your_kiwi_api_key_here
KIWI_BASE_URL=https://api.tequila.kiwi.com

# Google Flights API (alternative)
GOOGLE_FLIGHTS_API_KEY=your_google_flights_api_key_here

# Sentry (Error tracking)
# SENTRY_DSN=your_sentry_dsn_here

# ========================================
# REDIS CACHE (RECOMMENDED)
# ========================================
# Redis provides fast caching for API responses
# Significantly improves performance and reduces API costs

# Option 1: Use Redis URL (recommended for cloud services)
REDIS_URL=redis://localhost:6379

# Option 2: Use individual settings (for local development)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# Cache TTL settings (in seconds)
REDIS_TTL_FLIGHT=300        # 5 minutes
REDIS_TTL_HOTEL=3600        # 1 hour
REDIS_TTL_LOCATION=86400    # 24 hours
REDIS_TTL_AI=1800           # 30 minutes
REDIS_TTL_USER=3600         # 1 hour

# ========================================
# DEVELOPMENT TOOLS
# ========================================

# Enable debug mode
# DEBUG=true

# Mock external APIs in development
# MOCK_APIS=true

# ========================================
# NOTES
# ========================================
# 1. Never commit .env file to git
# 2. Keep .env.template updated when adding new variables
# 3. Use strong, unique values for secrets
# 4. Rotate secrets regularly in production
# 5. Use environment-specific values (dev/staging/prod)
# ========================================
