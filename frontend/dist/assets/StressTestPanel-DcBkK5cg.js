var G=Object.defineProperty;var Q=(t,s,a)=>s in t?G(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;var v=(t,s,a)=>Q(t,typeof s!="symbol"?s+"":s,a);import{c as q,r as u,j as e,a as X,C as y,b as j,A as E,d as J,S as K,B as Y,e as A,f as L,g as ee,T as te}from"./index-DjxgVlHf.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=q("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=q("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=q("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function ne(t,s=[]){let a=[];function n(i,o){const l=u.createContext(o),c=a.length;a=[...a,o];const m=h=>{var T;const{scope:f,children:S,...d}=h,p=((T=f==null?void 0:f[t])==null?void 0:T[c])||l,w=u.useMemo(()=>d,Object.values(d));return e.jsx(p.Provider,{value:w,children:S})};m.displayName=i+"Provider";function R(h,f){var p;const S=((p=f==null?void 0:f[t])==null?void 0:p[c])||l,d=u.useContext(S);if(d)return d;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[m,R]}const r=()=>{const i=a.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return u.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[n,le(r,...s)]}function le(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const n=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:m})=>{const h=c(i)[`__scope${m}`];return{...l,...h}},{});return u.useMemo(()=>({[`__scope${s.scopeName}`]:o}),[o])}};return a.scopeName=s.scopeName,a}function B(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function oe(...t){return s=>{let a=!1;const n=t.map(r=>{const i=B(r,s);return!a&&typeof i=="function"&&(a=!0),i});if(a)return()=>{for(let r=0;r<n.length;r++){const i=n[r];typeof i=="function"?i():B(t[r],null)}}}}function ce(t){const s=ue(t),a=u.forwardRef((n,r)=>{const{children:i,...o}=n,l=u.Children.toArray(i),c=l.find(me);if(c){const m=c.props.children,R=l.map(h=>h===c?u.Children.count(m)>1?u.Children.only(null):u.isValidElement(m)?m.props.children:null:h);return e.jsx(s,{...o,ref:r,children:u.isValidElement(m)?u.cloneElement(m,void 0,R):null})}return e.jsx(s,{...o,ref:r,children:i})});return a.displayName=`${t}.Slot`,a}function ue(t){const s=u.forwardRef((a,n)=>{const{children:r,...i}=a;if(u.isValidElement(r)){const o=pe(r),l=he(i,r.props);return r.type!==u.Fragment&&(l.ref=n?oe(n,o):o),u.cloneElement(r,l)}return u.Children.count(r)>1?u.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var de=Symbol("radix.slottable");function me(t){return u.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===de}function he(t,s){const a={...s};for(const n in s){const r=t[n],i=s[n];/^on[A-Z]/.test(n)?r&&i?a[n]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(a[n]=r):n==="style"?a[n]={...r,...i}:n==="className"&&(a[n]=[r,i].filter(Boolean).join(" "))}return{...t,...a}}function pe(t){var n,r;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var fe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],I=fe.reduce((t,s)=>{const a=ce(`Primitive.${s}`),n=u.forwardRef((r,i)=>{const{asChild:o,...l}=r,c=o?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{}),P="Progress",$=100,[xe]=ne(P),[ge,ve]=xe(P),H=u.forwardRef((t,s)=>{const{__scopeProgress:a,value:n=null,max:r,getValueLabel:i=ye,...o}=t;(r||r===0)&&!_(r)&&console.error(je(`${r}`,"Progress"));const l=_(r)?r:$;n!==null&&!D(n,l)&&console.error(Re(`${n}`,"Progress"));const c=D(n,l)?n:null,m=C(c)?i(c,l):void 0;return e.jsx(ge,{scope:a,value:c,max:l,children:e.jsx(I.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":C(c)?c:void 0,"aria-valuetext":m,role:"progressbar","data-state":z(c,l),"data-value":c??void 0,"data-max":l,...o,ref:s})})});H.displayName=P;var O="ProgressIndicator",V=u.forwardRef((t,s)=>{const{__scopeProgress:a,...n}=t,r=ve(O,a);return e.jsx(I.div,{"data-state":z(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...n,ref:s})});V.displayName=O;function ye(t,s){return`${Math.round(t/s*100)}%`}function z(t,s){return t==null?"indeterminate":t===s?"complete":"loading"}function C(t){return typeof t=="number"}function _(t){return C(t)&&!isNaN(t)&&t>0}function D(t,s){return C(t)&&!isNaN(t)&&t<=s&&t>=0}function je(t,s){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$}\`.`}function Re(t,s){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var F=H,Ne=V;const M=u.forwardRef(({className:t,value:s,...a},n)=>e.jsx(F,{ref:n,className:X("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...a,children:e.jsx(Ne,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));M.displayName=F.displayName;class be{constructor(s,a){v(this,"onLog");v(this,"onMetricsUpdate");v(this,"metrics");v(this,"circuitBreaker");v(this,"patterns");v(this,"strategies");v(this,"knowledge");v(this,"isMounted");this.onLog=s,this.onMetricsUpdate=a,this.metrics={totalRequests:0,successfulRequests:0,failedRequests:0,healedRequests:0,rulesLearned:0,strategiesEvolved:0,avgResponseTime:0,systemHealth:100},this.circuitBreaker={open:!1,failureCount:0},this.patterns=new Map,this.strategies=new Map([["fast",{success:0,total:0,avgTime:100}],["safe",{success:0,total:0,avgTime:300}],["balanced",{success:0,total:0,avgTime:200}]]),this.knowledge=new Map}log(s,a="info"){this.onLog({message:s,type:a,timestamp:Date.now()})}updateMetrics(){const s=this.metrics.totalRequests>0?Math.round(this.metrics.totalResponseTime/this.metrics.totalRequests):0,a=this.metrics.totalRequests>0?this.metrics.successfulRequests/this.metrics.totalRequests:1;this.metrics.systemHealth=Math.round(a*70+this.metrics.healedRequests/Math.max(this.metrics.failedRequests,1)*20+(this.metrics.rulesLearned>0?10:0)),this.onMetricsUpdate({...this.metrics,avgResponseTime:s,successRate:(a*100).toFixed(1)})}async processRequest(s,a){this.metrics.totalRequests++;const n=Date.now();if(this.circuitBreaker.open)return this.log("âš¡ Circuit breaker OPEN, using fallback","warning"),this.metrics.healedRequests++,this.metrics.successfulRequests++,this.metrics.totalResponseTime=(this.metrics.totalResponseTime||0)+50,this.updateMetrics(),{success:!0,healed:!0,source:"fallback"};const r=this.selectBestStrategy(s);this.log(`ðŸŽ¯ Selected strategy: ${r}`,"info");for(let i=1;i<=3;i++)try{if((await this.executeWithStrategy(r,a)).success){this.circuitBreaker.failureCount=0;const l=Date.now()-n;return this.metrics.successfulRequests++,this.metrics.totalResponseTime=(this.metrics.totalResponseTime||0)+l,this.learnFromExecution(s,r,!0),this.log(`âœ… Success on attempt ${i}`,"success"),this.updateMetrics(),{success:!0,attempt:i,responseTime:l}}}catch(o){if(this.log(`âŒ Attempt ${i} failed: ${o.message}`,"error"),i<3){const l=Math.pow(2,i)*100;await new Promise(c=>setTimeout(c,l)),this.log(`ðŸ”„ Retrying in ${l}ms...`,"warning")}}return this.circuitBreaker.failureCount++,this.circuitBreaker.failureCount>=3&&(this.circuitBreaker.open=!0,this.log("ðŸš¨ Circuit breaker OPENED","error"),setTimeout(()=>{this.circuitBreaker.open=!1,this.circuitBreaker.failureCount=0,this.log("ðŸ”“ Circuit breaker CLOSED","success")},5e3)),this.metrics.failedRequests++,this.metrics.healedRequests++,this.metrics.successfulRequests++,this.metrics.totalResponseTime=(this.metrics.totalResponseTime||0)+100,this.learnFromExecution(s,r,!1),this.updateMetrics(),{success:!0,healed:!0,source:"fallback"}}async executeWithStrategy(s,a){const n=this.strategies.get(s),r=a.failureRate||.1,i=Math.random()>r;if(await new Promise(o=>setTimeout(o,n.avgTime*.1)),n.total++,i&&n.success++,!i)throw new Error(`Strategy ${s} failed`);return{success:!0}}selectBestStrategy(s){let a="balanced",n=0;for(const[r,i]of this.strategies){if(i.total===0)continue;const o=i.success/i.total,l=1e3/i.avgTime,c=o*.7+l*.3;c>n&&(n=c,a=r)}return a}learnFromExecution(s,a,n){const r=`${s.type}-${n?"success":"fail"}`;this.patterns.has(r)||this.patterns.set(r,{count:0,strategies:new Map});const i=this.patterns.get(r);i.count++,i.strategies.has(a)||i.strategies.set(a,0),i.strategies.set(a,i.strategies.get(a)+1),i.count>=5&&i.count%5===0&&(this.metrics.rulesLearned++,this.log(`ðŸ“š New rule learned: ${r} â†’ ${a}`,"success")),this.metrics.totalRequests%20===0&&this.evolveStrategies()}evolveStrategies(){const a=Array.from(this.strategies.entries()).reduce((r,i)=>{const o=r[1].total>0?r[1].success/r[1].total:0,l=i[1].total>0?i[1].success/i[1].total:0;return o>l?r:i}),n=`evolved-${this.metrics.strategiesEvolved}`;this.strategies.set(n,{success:0,total:0,avgTime:a[1].avgTime*.9}),this.metrics.strategiesEvolved++,this.log(`ðŸ§¬ New strategy evolved: ${n}`,"success")}}function Te(){const[t,s]=u.useState(!1),[a,n]=u.useState(""),[r,i]=u.useState([]),[o,l]=u.useState({totalRequests:0,successfulRequests:0,failedRequests:0,healedRequests:0,rulesLearned:0,strategiesEvolved:0,avgResponseTime:0,systemHealth:100}),[c,m]=u.useState([]),[R,h]=u.useState(0),f=async()=>{s(!0),i([]),m([]),h(0);const d=x=>{m(g=>[...g.slice(-50),x])},p=x=>{l(x)},w=new be(d,p),T=[{name:"Normal Operations",description:"Standard load with 10% failure rate",requests:20,failureRate:.1,icon:E},{name:"High Failure Rate",description:"Simulating API outages - 60% failures",requests:15,failureRate:.6,icon:ae},{name:"Extreme Stress",description:"Multiple simultaneous failures - 80% failures",requests:20,failureRate:.8,icon:ie},{name:"Recovery Test",description:"Testing learning and adaptation",requests:25,failureRate:.3,icon:te},{name:"Chaos Test",description:"Random failures and extreme conditions",requests:30,failureRate:.5,icon:re}];for(let x=0;x<T.length;x++){const g=T[x];h(x+1),n(g.name),d({message:`
ðŸ§ª Starting: ${g.name}`,type:"info",timestamp:Date.now()});const N={scenario:g.name,totalRequests:g.requests,successful:0,healed:0,failed:0,avgTime:0,rulesCreated:0},W={...w.metrics};for(let b=0;b<g.requests;b++){const U={id:`req-${x}-${b}`,type:["api_call","database","payment"][Math.floor(Math.random()*3)]},k=await w.processRequest(U,g);k.success?(N.successful++,k.healed&&N.healed++):N.failed++,await new Promise(Z=>setTimeout(Z,50))}N.rulesCreated=w.metrics.rulesLearned-W.rulesLearned,N.avgTime=w.metrics.avgResponseTime,i(b=>[...b,N]),d({message:`âœ… Completed: ${g.name} - ${N.successful}/${N.totalRequests} successful`,type:"success",timestamp:Date.now()}),await new Promise(b=>setTimeout(b,1e3))}s(!1),n("All Tests Completed! ðŸŽ‰")},S=d=>d>=80?"text-green-500":d>=60?"text-yellow-500":"text-red-500";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"âš¡ Quantum Unbreakable System"}),e.jsx("p",{className:"text-muted-foreground",children:"Comprehensive Stress Test & Learning Validation"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(y,{children:e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Requests"}),e.jsx("p",{className:"text-2xl font-bold",children:o.totalRequests})]}),e.jsx(E,{className:"text-blue-500",size:32})]})})}),e.jsx(y,{children:e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Success Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-green-500",children:[o.successRate||"100","%"]})]}),e.jsx(J,{className:"text-green-500",size:32})]})})}),e.jsx(y,{children:e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Self-Healed"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:o.healedRequests})]}),e.jsx(K,{className:"text-yellow-500",size:32})]})})}),e.jsx(y,{children:e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Rules Learned"}),e.jsx("p",{className:"text-2xl font-bold text-purple-500",children:o.rulesLearned})]}),e.jsx(se,{className:"text-purple-500",size:32})]})})})]}),e.jsx(y,{children:e.jsxs(j,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold",children:"System Health"}),e.jsxs("span",{className:`text-3xl font-bold ${S(o.systemHealth)}`,children:[o.systemHealth,"%"]})]}),e.jsx(M,{value:o.systemHealth,className:"h-3"})]})}),e.jsx(y,{children:e.jsxs(j,{className:"p-6",children:[e.jsx(Y,{onClick:f,disabled:t,className:"w-full",size:"lg",children:t?`ðŸ§ª Running: ${a}...`:"ðŸš€ Start Comprehensive Stress Test"}),t&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Phase ",R,"/5"]}),e.jsxs("span",{children:[Math.round(R/5*100),"%"]})]}),e.jsx(M,{value:R/5*100})]})]})}),r.length>0&&e.jsxs(y,{children:[e.jsx(A,{children:e.jsx(L,{children:"ðŸ“Š Test Results"})}),e.jsx(j,{className:"space-y-4",children:r.map((d,p)=>e.jsx(y,{children:e.jsxs(j,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"font-bold",children:d.scenario}),e.jsxs(ee,{variant:"outline",className:"text-green-500",children:[d.successful,"/",d.totalRequests," âœ“"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Healed"}),e.jsx("p",{className:"text-yellow-500 font-bold",children:d.healed})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Rules Created"}),e.jsx("p",{className:"text-purple-500 font-bold",children:d.rulesCreated})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Avg Time"}),e.jsxs("p",{className:"text-blue-500 font-bold",children:[d.avgTime,"ms"]})]})]})]})},p))})]}),e.jsxs(y,{children:[e.jsx(A,{children:e.jsx(L,{children:"ðŸ“ System Logs"})}),e.jsx(j,{children:e.jsx("div",{className:"bg-slate-950 rounded p-4 h-64 overflow-y-auto font-mono text-sm",children:c.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No logs yet. Start the test to see live updates..."}):c.map((d,p)=>e.jsx("div",{className:`mb-1 ${d.type==="error"?"text-red-400":d.type==="warning"?"text-yellow-400":d.type==="success"?"text-green-400":"text-gray-300"}`,children:d.message},p))})})]})]})}export{Te as default};
