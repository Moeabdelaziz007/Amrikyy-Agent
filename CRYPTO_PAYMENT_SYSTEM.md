# ğŸ’ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙØ¹ Ø¨Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø´ÙØ±Ø© - Amrikyy Crypto-First Platform

## ğŸ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

ØªÙ… Ø¨Ù†Ø§Ø¡ Amrikyy ÙƒØ£ÙˆÙ„ Ù…Ù†ØµØ© Ø³ÙØ± **Crypto-First** ÙÙŠ Ø§Ù„Ø´Ø±Ù‚ Ø§Ù„Ø£ÙˆØ³Ø·ØŒ Ù…Ø¹ Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ù„Ø¯ÙØ¹ Ø¨Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø´ÙØ±Ø© Ø¹Ø¨Ø±:

- Bitcoin (BTC)
- Ethereum (ETH)
- USDT (Tether)
- USDC (USD Coin)
- BNB (Binance Coin)
- MATIC (Polygon)

---

## ğŸ—ï¸ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FRONTEND                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  CryptoPaymentModal.tsx                        â”‚    â”‚
â”‚  â”‚  - Select Cryptocurrency                       â”‚    â”‚
â”‚  â”‚  - Display QR Code                             â”‚    â”‚
â”‚  â”‚  - Real-time Verification                      â”‚    â”‚
â”‚  â”‚  - Transaction Status                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“ API Calls
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BACKEND API                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  /api/crypto/supported                         â”‚    â”‚
â”‚  â”‚  /api/crypto/invoice/create                    â”‚    â”‚
â”‚  â”‚  /api/crypto/invoice/:id/verify                â”‚    â”‚
â”‚  â”‚  /api/crypto/refund                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   SERVICES                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  CryptoPaymentService                          â”‚    â”‚
â”‚  â”‚  - Web3 Integration                            â”‚    â”‚
â”‚  â”‚  - Blockchain Scanning                         â”‚    â”‚
â”‚  â”‚  - Transaction Verification                    â”‚    â”‚
â”‚  â”‚  - Price Feeds (CoinGecko)                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BLOCKCHAIN                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Ethereum    â”‚  â”‚  BSC         â”‚  â”‚  Polygon     â”‚ â”‚
â”‚  â”‚  Network     â”‚  â”‚  Network     â”‚  â”‚  Network     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Smart Contracts                                â”‚   â”‚
â”‚  â”‚  - AmrikyyBookingEscrow.sol                     â”‚   â”‚
â”‚  â”‚  - Automated Escrow System                      â”‚   â”‚
â”‚  â”‚  - Dispute Resolution                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DATABASE                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Supabase (PostgreSQL)                         â”‚    â”‚
â”‚  â”‚  - crypto_payments                             â”‚    â”‚
â”‚  â”‚  - crypto_refunds                              â”‚    â”‚
â”‚  â”‚  - user_crypto_wallets                         â”‚    â”‚
â”‚  â”‚  - smart_contract_escrows                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø³Ø±ÙŠØ¹

### 1. Ø¥Ø¹Ø¯Ø§Ø¯ Backend

```bash
# ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
cd backend
npm install web3 axios @supabase/supabase-js qrcode

# Ø¥Ø¹Ø¯Ø§Ø¯ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©
cat >> .env << EOF
# Merchant Wallet Addresses
MERCHANT_BTC_ADDRESS=your_bitcoin_address
MERCHANT_ETH_ADDRESS=0xYourEthereumAddress
MERCHANT_BSC_ADDRESS=0xYourBSCAddress
MERCHANT_POLYGON_ADDRESS=0xYourPolygonAddress

# RPC Endpoints (Optional - uses public by default)
ETH_RPC_URL=https://mainnet.infura.io/v3/YOUR_KEY
BSC_RPC_URL=https://bsc-dataseed.binance.org/
POLYGON_RPC_URL=https://polygon-rpc.com/
EOF

# Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯Ø§ÙˆÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
psql $SUPABASE_URL -f backend/database/crypto-payments-schema.sql
```

### 2. Ø¥Ø¹Ø¯Ø§Ø¯ Frontend

```bash
cd frontend
npm install qrcode framer-motion

# ÙŠØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…ÙƒÙˆÙ† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
```

### 3. Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ø¸Ø§Ù…

```typescript
// ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ø¯ÙØ¹
import CryptoPaymentModal from './components/CryptoPaymentModal';

function CheckoutPage() {
  const [showCrypto, setShowCrypto] = useState(false);

  const handleCryptoPayment = () => {
    setShowCrypto(true);
  };

  const handlePaymentSuccess = (invoice) => {
    console.log('Payment confirmed!', invoice);
    // Redirect to success page
  };

  return (
    <>
      <button onClick={handleCryptoPayment}>ğŸ’ Ø§Ù„Ø¯ÙØ¹ Ø¨Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø´ÙØ±Ø©</button>

      <CryptoPaymentModal
        isOpen={showCrypto}
        onClose={() => setShowCrypto(false)}
        bookingData={{
          bookingId: 'booking-123',
          userId: 'user-456',
          amountUSD: 250,
          description: 'Hotel Booking - Cairo',
        }}
        onSuccess={handlePaymentSuccess}
      />
    </>
  );
}
```

---

## ğŸ“¡ API Endpoints

### 1. Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©

```bash
GET /api/crypto/supported

Response:
{
  "success": true,
  "cryptocurrencies": [
    {
      "symbol": "BTC",
      "name": "Bitcoin",
      "icon": "â‚¿",
      "network": "bitcoin",
      "minAmount": 0.0001
    },
    {
      "symbol": "USDT",
      "name": "Tether USD",
      "icon": "â‚®",
      "network": "ethereum",
      "minAmount": 10
    }
  ]
}
```

### 2. Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ø¯ÙØ¹

```bash
POST /api/crypto/invoice/create
Content-Type: application/json

{
  "bookingId": "booking-123",
  "userId": "user-456",
  "amountUSD": 250,
  "cryptocurrency": "USDT",
  "customerEmail": "user@example.com"
}

Response:
{
  "success": true,
  "invoice": {
    "id": "AMK-A1B2C3D4",
    "paymentInfo": {
      "address": "0x1234567890abcdef",
      "amount": "250.00",
      "currency": "USDT",
      "usdAmount": 250,
      "qrCode": "ethereum:0x1234...?amount=250",
      "expiresIn": 1800,
      "network": "ethereum",
      "explorerUrl": "https://etherscan.io/address/0x1234..."
    }
  }
}
```

### 3. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¯ÙØ¹

```bash
POST /api/crypto/invoice/:invoiceId/verify

Response:
{
  "success": true,
  "verification": {
    "status": "confirming",
    "confirmations": 3,
    "requiredConfirmations": 12,
    "transactionHash": "0xabcdef...",
    "explorerUrl": "https://etherscan.io/tx/0xabcdef..."
  }
}
```

### 4. Ø·Ù„Ø¨ Ø§Ø³ØªØ±Ø¯Ø§Ø¯

```bash
POST /api/crypto/refund
Content-Type: application/json

{
  "invoiceId": "AMK-A1B2C3D4",
  "reason": "Booking cancelled by user"
}

Response:
{
  "success": true,
  "refund": {
    "id": "uuid-1234",
    "status": "pending",
    "amount": "250.00",
    "cryptocurrency": "USDT"
  },
  "message": "Refund will be processed within 24 hours"
}
```

---

## ğŸ” Ø§Ù„Ø£Ù…Ø§Ù†

### 1. Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ø­Ø§ÙØ¸

- âœ… **Cold Storage:** Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø­Ø§ÙØ¸ Ø¨Ø§Ø±Ø¯Ø© Ù„Ù„Ù…Ø¨Ø§Ù„Øº Ø§Ù„ÙƒØ¨ÙŠØ±Ø©
- âœ… **Multi-Sig:** Ø§Ø³ØªØ®Ø¯Ù… ØªÙˆÙ‚ÙŠØ¹Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ù„Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©
- âœ… **Rate Limiting:** Ø­Ø¯ Ù…Ù† Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù„Ù…Ù†Ø¹ Ø§Ù„Ù‡Ø¬Ù…Ø§Øª
- âœ… **Encryption:** Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø© Ù…Ø´ÙØ±Ø©

### 2. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª

```javascript
// ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø¹Ø¨Ø±:
1. Block Explorer APIs (Etherscan, BSCScan, etc.)
2. Web3 RPC Endpoints
3. Required Confirmations (2-128 Ø­Ø³Ø¨ Ø§Ù„Ø´Ø¨ÙƒØ©)
```

### 3. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

```javascript
// Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„Ù‡Ø§ ÙˆÙ…Ø±Ø§Ù‚Ø¨ØªÙ‡Ø§
try {
  await processPayment();
} catch (error) {
  logger.error('Payment failed:', error);
  await notifyAdmin(error);
  await refundUser(userId);
}
```

---

## ğŸ“Š Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª

### Dashboard Metrics

```sql
-- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
SELECT
  DATE(created_at) as date,
  COUNT(*) as total_payments,
  SUM(amount_usd) as volume_usd
FROM crypto_payments
WHERE status = 'confirmed'
GROUP BY DATE(created_at);

-- Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø£ÙƒØ«Ø± Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Ù‹
SELECT
  cryptocurrency,
  COUNT(*) as usage_count,
  SUM(amount_usd) as total_volume
FROM crypto_payments
GROUP BY cryptocurrency
ORDER BY usage_count DESC;

-- Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­
SELECT
  COUNT(CASE WHEN status = 'confirmed' THEN 1 END) * 100.0 / COUNT(*) as success_rate
FROM crypto_payments;
```

---

## ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

### 1. Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡

```bash
curl -X POST http://localhost:5000/api/crypto/invoice/create \
  -H "Content-Type: application/json" \
  -d '{
    "bookingId": "test-123",
    "userId": "user-456",
    "amountUSD": 100,
    "cryptocurrency": "USDT"
  }'
```

### 2. Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ­Ù‚Ù‚

```bash
curl -X POST http://localhost:5000/api/crypto/invoice/AMK-XXXX/verify
```

### 3. Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø´Ø¨ÙƒØ©

```javascript
// Test Ethereum Connection
const web3 = new Web3('https://mainnet.infura.io/v3/YOUR_KEY');
const blockNumber = await web3.eth.getBlockNumber();
console.log('Current block:', blockNumber);
```

---

## ğŸ“ Best Practices

### 1. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø±

```javascript
// ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚
setInterval(async () => {
  const prices = await fetchCryptoPrices();
  await updatePriceCache(prices);
}, 5 * 60 * 1000);
```

### 2. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯Ø§Øª

```javascript
// ØªØ£ÙƒÙŠØ¯Ø§Øª Ù…Ø®ØªÙ„ÙØ© Ø­Ø³Ø¨ Ø§Ù„Ø´Ø¨ÙƒØ©
const CONFIRMATIONS = {
  bitcoin: 2, // ~20 Ø¯Ù‚ÙŠÙ‚Ø©
  ethereum: 12, // ~3 Ø¯Ù‚Ø§Ø¦Ù‚
  bsc: 15, // ~45 Ø«Ø§Ù†ÙŠØ©
  polygon: 128, // ~4 Ø¯Ù‚Ø§Ø¦Ù‚
};
```

### 3. Ø¥Ø¯Ø§Ø±Ø© Timeout

```javascript
// Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¨Ø¹Ø¯ 30 Ø¯Ù‚ÙŠÙ‚Ø©
const INVOICE_EXPIRY = 30 * 60 * 1000;

// ØªÙ†Ø¸ÙŠÙ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©
cron.schedule('*/5 * * * *', async () => {
  await expireOldInvoices();
});
```

---

## ğŸ”„ Smart Contract Deployment

### 1. Ø¥Ø¹Ø¯Ø§Ø¯ Hardhat

```bash
cd backend
npm install --save-dev hardhat @openzeppelin/contracts

npx hardhat init
```

### 2. Compile Contract

```bash
npx hardhat compile
```

### 3. Deploy to Network

```javascript
// scripts/deploy-escrow.js
async function main() {
  const AmrikyyEscrow = await ethers.getContractFactory('AmrikyyBookingEscrow');
  const escrow = await AmrikyyEscrow.deploy(
    '0xFeeRecipientAddress' // Amrikyy wallet
  );

  await escrow.deployed();
  console.log('Contract deployed to:', escrow.address);
}

main();
```

```bash
# Deploy to Ethereum Mainnet
npx hardhat run scripts/deploy-escrow.js --network mainnet

# Deploy to BSC
npx hardhat run scripts/deploy-escrow.js --network bsc

# Deploy to Polygon
npx hardhat run scripts/deploy-escrow.js --network polygon
```

---

## ğŸ’¡ Ø§Ø³ØªØ®Ø¯Ø§Ù… Smart Contract

```javascript
// Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¹Ù‚Ø¯
const contract = new ethers.Contract(CONTRACT_ADDRESS, ABI, signer);

// Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø¬Ø²
const tx = await contract.createBooking(
  sellerAddress,
  arbiterAddress,
  ethers.utils.parseEther('1.0'), // 1 ETH
  ethers.constants.AddressZero, // ETH (not ERC20)
  86400, // 24 hours
  'booking-hash-123',
  JSON.stringify({ hotel: 'Cairo Marriott' })
);

await tx.wait();

// ØªÙ…ÙˆÙŠÙ„ Ø§Ù„Ø­Ø¬Ø²
const fundTx = await contract.fundBooking(bookingId, {
  value: ethers.utils.parseEther('1.0'),
});

await fundTx.wait();
```

---

## ğŸ“ˆ Roadmap

### Phase 1: âœ… Complete

- [x] Backend Service
- [x] API Endpoints
- [x] Database Schema
- [x] Frontend Component
- [x] Smart Contract

### Phase 2: ğŸš§ In Progress

- [ ] WalletConnect Integration
- [ ] MetaMask Integration
- [ ] Hardware Wallet Support
- [ ] Multi-Signature Wallets

### Phase 3: ğŸ“‹ Planned

- [ ] Lightning Network (Bitcoin)
- [ ] Layer 2 Solutions (Arbitrum, Optimism)
- [ ] DeFi Integration
- [ ] Staking Rewards
- [ ] NFT Booking Receipts

---

## ğŸ†˜ Ø§Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©

### Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©

**Q: Ù…Ø§ Ù‡ÙŠ Ø±Ø³ÙˆÙ… Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§ØªØŸ**
A: 2% Ø±Ø³ÙˆÙ… Ù…Ù†ØµØ© + Ø±Ø³ÙˆÙ… Ø´Ø¨ÙƒØ© Blockchain (Ù…ØªØºÙŠØ±Ø©)

**Q: ÙƒÙ… ÙŠØ³ØªØºØ±Ù‚ Ø§Ù„ØªØ£ÙƒÙŠØ¯ØŸ**
A:

- Bitcoin: 10-30 Ø¯Ù‚ÙŠÙ‚Ø©
- Ethereum: 2-5 Ø¯Ù‚Ø§Ø¦Ù‚
- BSC: 30-60 Ø«Ø§Ù†ÙŠØ©
- USDT/USDC: Ø­Ø³Ø¨ Ø§Ù„Ø´Ø¨ÙƒØ©

**Q: Ù‡Ù„ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø£Ù…ÙˆØ§Ù„ØŸ**
A: Ù†Ø¹Ù…ØŒ Ø®Ù„Ø§Ù„ 24-48 Ø³Ø§Ø¹Ø© Ù„Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…Ù„ØºØ§Ø©

**Q: Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©ØŸ**
A: BTC, ETH, USDT, USDC, BNB, MATIC

### Ø¬Ù‡Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„

- ğŸ“§ Email: crypto@amrikyy.com
- ğŸ’¬ Telegram: @AmrikyyCrypto
- ğŸ¦ Twitter: @AmrikyyPlatform
- ğŸ“± WhatsApp: +20-XXX-XXXX

---

## ğŸ“œ License

MIT License - Amrikyy Platform 2025

---

**ğŸ‰ ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ù„Ø¯ÙŠÙƒ Ø§Ù„Ø¢Ù† Ø£ÙˆÙ„ Ù…Ù†ØµØ© Ø³ÙØ± Crypto-First ÙÙŠ Ø§Ù„Ø´Ø±Ù‚ Ø§Ù„Ø£ÙˆØ³Ø·! ğŸ’**
