import{j as e,a}from"./index-1d0874ba.js";import{r as t}from"./react-vendor-6b652a3b.js";import{a as l}from"./services-eeeaa494.js";import{m as r,i as s,d as n,e as i,D as d,j as o,P as c}from"./ui-vendor-2b835a18.js";import"./auth-vendor-5b17ef46.js";import"./utils-vendor-267562bf.js";const m=({trips:m,setTrips:u})=>{const[p,g]=t.useState(!1),[h,b]=t.useState({destination:"",startDate:"",endDate:"",budget:0}),[x,y]=t.useState(""),[f,v]=t.useState(""),[N,w]=t.useState(null),[D,j]=t.useState(!1),C=e=>{switch(e){case"planned":return"bg-yellow-100 text-yellow-800";case"ongoing":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return e("div",{className:"space-y-6",children:[e("div",{className:"flex items-center justify-between",children:[e("div",{children:[a("h2",{className:"text-3xl font-bold text-gray-800",children:"Trip Planner"}),a("p",{className:"text-gray-600 mt-1",children:"Plan and manage your travel adventures"})]}),e(r.button,{onClick:()=>g(!p),className:"flex items-center space-x-2 maya-gradient text-white px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a(s,{className:"w-5 h-5"}),a("span",{children:"Add Trip"})]})]}),p&&e(r.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[a("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Add New Trip"}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination"}),a("input",{type:"text",value:h.destination,onChange:e=>b({...h,destination:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Where do you want to go?"})]}),e("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget"}),a("input",{type:"number",value:h.budget,onChange:e=>b({...h,budget:Number(e.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Budget in USD"})]}),e("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),a("input",{type:"date",value:h.startDate,onChange:e=>b({...h,startDate:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),a("input",{type:"date",value:h.endDate,onChange:e=>b({...h,endDate:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("div",{className:"md:col-span-2",children:[a("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL (optional)"}),a("input",{type:"url",value:x,onChange:e=>y(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://...jpg"})]}),e("div",{className:"md:col-span-2",children:[a("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video URL (optional)"}),a("input",{type:"url",value:f,onChange:e=>v(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://...mp4"})]})]}),e("div",{className:"flex flex-wrap items-center gap-3 mt-6",children:[a(r.button,{onClick:()=>{if(h.destination&&h.startDate&&h.endDate){const e={id:Date.now().toString(),destination:h.destination,startDate:h.startDate,endDate:h.endDate,budget:h.budget,status:"planned",image:`https://images.unsplash.com/photo-${Math.floor(1e6*Math.random())}?w=400`};u([...m,e]),b({destination:"",startDate:"",endDate:"",budget:0}),g(!1)}},className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Add Trip"}),a(r.button,{onClick:async()=>{if(x||f){j(!0),w(null);try{const{data:e}=await l.analyzeMedia({prompt:`Analyze this media for trip planning to ${h.destination||"the shown place"}.`,imageUrls:x?[x]:[],videoUrl:f||null,options:{enableKvCacheOffload:!0,attentionImpl:"flash-attn-3"}});w((null==e?void 0:e.analysis)||"No analysis available")}catch(e){w("Failed to analyze media. Please try again.")}finally{j(!1)}}},className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-60",whileHover:{scale:1.05},whileTap:{scale:.95},disabled:D||!x&&!f,children:D?"Analyzingâ€¦":"Analyze Media"}),a(r.button,{onClick:()=>g(!1),className:"px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancel"})]}),N&&a("div",{className:"mt-4 p-4 bg-purple-50 border border-purple-100 rounded-lg text-sm text-purple-900 whitespace-pre-wrap",children:N})]}),a("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map((t,l)=>e(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*l},className:"bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 group",children:[e("div",{className:"relative h-48 overflow-hidden",children:[a("img",{src:t.image,alt:t.destination,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),a("div",{className:"absolute top-4 right-4",children:a("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${C(t.status)}`,children:t.status})})]}),e("div",{className:"p-6",children:[e("div",{className:"flex items-center space-x-2 mb-3",children:[a(n,{className:"w-5 h-5 text-blue-500"}),a("h3",{className:"text-xl font-semibold text-gray-800",children:t.destination})]}),e("div",{className:"space-y-2 mb-4",children:[e("div",{className:"flex items-center space-x-2 text-gray-600",children:[a(i,{className:"w-4 h-4"}),e("span",{className:"text-sm",children:[t.startDate," - ",t.endDate]})]}),e("div",{className:"flex items-center space-x-2 text-gray-600",children:[a(d,{className:"w-4 h-4"}),e("span",{className:"text-sm",children:["$",t.budget.toLocaleString()]})]})]}),e("div",{className:"flex items-center justify-between",children:[a("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((e,t)=>a(o,{className:"w-4 h-4 text-yellow-400 fill-current"},t))}),a(r.button,{className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:"View Details"})]})]})]},t.id))}),0===m.length&&e(r.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[a(c,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No trips planned yet"}),a("p",{className:"text-gray-500",children:"Start planning your next adventure!"})]})]})};export{m as default};
