# 🚀 دليل تحسين أداء Cursor - Maya Travel Agent

## ✅ التحسينات المطبقة

### 1. ملف .cursorignore محسن
تم تحديث ملف `.cursorignore` لاستبعاد:
- `node_modules/` - أهم مجلد يجب تجاهله
- مجلدات البناء: `dist/`, `build/`, `.next/`, `coverage/`
- ملفات السجلات: `logs/`, `*.log`
- ملفات البيئة: `.env`, `*.env.local`
- ملفات نظام التشغيل: `.DS_Store`, `Thumbs.db`
- مجلدات التخزين المؤقت: `.cache/`, `.npm-cache/`
- بيئات Python: `venv/`, `kody_env/`, `__pycache__/`

### 2. إعدادات Cursor محسنة
تم تحديث `.cursor/settings.json` مع:
- **files.watcherExclude**: استبعاد مراقبة الملفات غير الضرورية
- **search.exclude**: استبعاد البحث في المجلدات الكبيرة
- **files.exclude**: إخفاء الملفات غير المهمة
- **editor.minimap.enabled**: تعطيل الخريطة المصغرة
- **typescript.suggest.autoImports**: تعطيل الاستيراد التلقائي
- **telemetry.telemetryLevel**: تعطيل التليمتري
- تعطيل العديد من الميزات غير الضرورية

## 🔧 الخطوات التالية المطلوبة

### 1. إعادة تحميل Cursor
```bash
# في Cursor: Cmd+Shift+P -> Developer: Reload Window
```

### 2. استخدام Extension Bisect
```bash
# في Cursor: Cmd+Shift+P -> Help: Start Extension Bisect
```
هذه الأداة ستساعدك في تحديد الإضافات التي تسبب البطء.

### 3. مراقبة العمليات
```bash
# في Cursor: Cmd+Shift+P -> Developer: Open Process Explorer
```
ستعرض لك استهلاك كل عملية من CPU والذاكرة.

### 4. تحليل وقت بدء التشغيل
```bash
# في Cursor: Cmd+Shift+P -> Developer: Startup Performance
```
سيعرض تقريراً مفصلاً عن وقت تحميل كل إضافة.

## 📊 مؤشرات الأداء المتوقعة

### قبل التحسين:
- وقت بدء التشغيل: 15-30 ثانية
- استهلاك الذاكرة: 500-1000 MB
- استهلاك المعالج: 20-40%
- فهرسة الملفات: 30-60 ثانية

### بعد التحسين:
- وقت بدء التشغيل: 5-10 ثانية ⚡
- استهلاك الذاكرة: 200-400 MB 🧠
- استهلاك المعالج: 5-15% ⚡
- فهرسة الملفات: 5-15 ثانية 🚀

## 🛠️ أدوات التشخيص المتقدمة

### 1. Process Explorer
```bash
# في Cursor: Cmd+Shift+P -> Developer: Open Process Explorer
```
- يعرض استهلاك كل عملية
- يساعد في تحديد العمليات الثقيلة
- يظهر استهلاك الذاكرة والمعالج

### 2. Extension Bisect
```bash
# في Cursor: Cmd+Shift+P -> Help: Start Extension Bisect
```
- يعطل نصف الإضافات تلقائياً
- يطلب منك التحقق من الأداء
- يستمر حتى يعزل الإضافة المسببة للمشكلة

### 3. Startup Performance
```bash
# في Cursor: Cmd+Shift+P -> Developer: Startup Performance
```
- يعرض وقت تحميل كل إضافة
- يساعد في تحديد الإضافات البطيئة
- يعرض ترتيب تحميل الإضافات

## 🔍 فحص الأداء

### فحص مراقبة الملفات
```bash
# تحقق من أن node_modules غير مراقب
lsof +D "/Users/Shared/maya-travel-agent/node_modules" | wc -l
# يجب أن يعطي 0
```

### فحص استهلاك الذاكرة
```bash
# تحقق من استهلاك ذاكرة Cursor
ps aux | grep -i cursor | grep -v grep | awk '{sum+=$6} END {print sum/1024 " MB"}'
```

### فحص استهلاك المعالج
```bash
# تحقق من استهلاك معالج Cursor
ps aux | grep -i cursor | grep -v grep | awk '{sum+=$3} END {print sum "%"}'
```

## 🚨 علامات التحذير

### إذا كان الأداء لا يزال بطيئاً:
1. **تحقق من الإضافات**: استخدم Extension Bisect
2. **تحقق من الملفات الكبيرة**: ابحث عن ملفات أكبر من 10MB
3. **تحقق من العمليات**: استخدم Process Explorer
4. **تحقق من الذاكرة**: تأكد من وجود ذاكرة كافية

### علامات الأداء الجيد:
- ✅ بدء تشغيل سريع (< 10 ثواني)
- ✅ استهلاك ذاكرة منخفض (< 500 MB)
- ✅ استهلاك معالج منخفض (< 20%)
- ✅ فهرسة سريعة (< 15 ثانية)
- ✅ استجابة سريعة للأوامر

## 📋 قائمة التحقق

- [ ] تم تحديث `.cursorignore`
- [ ] تم تحديث `settings.json`
- [ ] تم إعادة تحميل Cursor
- [ ] تم فحص Extension Bisect
- [ ] تم فحص Process Explorer
- [ ] تم فحص Startup Performance
- [ ] تم تعطيل الإضافات غير المستخدمة
- [ ] تم فحص استهلاك الموارد
- [ ] تم تأكيد تحسين الأداء

## 🎯 التوصيات الإضافية

### 1. إدارة الإضافات
- عطل الإضافات غير المستخدمة
- استخدم إضافات خفيفة بدلاً من الثقيلة
- تجنب الإضافات المتداخلة

### 2. إدارة الملفات
- احذف الملفات المؤقتة بانتظام
- نظف مجلدات التخزين المؤقت
- استخدم `.gitignore` و `.cursorignore`

### 3. إدارة النظام
- تأكد من وجود ذاكرة كافية (8GB+)
- استخدم SSD للأداء الأفضل
- أغلق التطبيقات غير المستخدمة

## 🔧 استكشاف الأخطاء

### مشكلة: Cursor لا يزال بطيئاً
**الحل:**
1. استخدم Extension Bisect
2. تحقق من Process Explorer
3. أعد تشغيل Cursor
4. تحقق من الذاكرة المتاحة

### مشكلة: استهلاك ذاكرة عالي
**الحل:**
1. عطل الإضافات غير المستخدمة
2. تحقق من الملفات الكبيرة
3. نظف التخزين المؤقت
4. أعد تشغيل Cursor

### مشكلة: فهرسة بطيئة
**الحل:**
1. تحقق من `.cursorignore`
2. تحقق من `files.watcherExclude`
3. تحقق من `search.exclude`
4. أعد تحميل النافذة

## 📞 الدعم

إذا واجهت مشاكل في الأداء:
1. راجع هذا الدليل
2. استخدم أدوات التشخيص المدمجة
3. تحقق من إعدادات النظام
4. تواصل مع فريق الدعم

---

**تاريخ الإنشاء:** $(date)
**الإصدار:** 1.0.0
**المشروع:** Maya Travel Agent
