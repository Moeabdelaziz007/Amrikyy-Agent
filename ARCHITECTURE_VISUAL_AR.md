# ğŸ—ï¸ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© - Amrikyy Agent Platform

## Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ù†ÙŠØ©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend Layer (Ø·Ø¨Ù‚Ø© Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©)                 â”‚
â”‚                      React + TypeScript + Vite                      â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚   OS     â”‚  â”‚   Chat   â”‚  â”‚ Booking  â”‚  â”‚ Profile  â”‚           â”‚
â”‚  â”‚  Apps    â”‚  â”‚Interface â”‚  â”‚  System  â”‚  â”‚ Manager  â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â†• REST API / SSE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Middleware Layer (Ø·Ø¨Ù‚Ø© Ø§Ù„ÙˆØ³ÙŠØ·Ø©)                  â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚   Auth   â”‚  â”‚   Rate   â”‚  â”‚Validationâ”‚  â”‚  Error   â”‚           â”‚
â”‚  â”‚   JWT    â”‚  â”‚ Limiting â”‚  â”‚  & RBAC  â”‚  â”‚ Handler  â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Controllers Layer (Ø·Ø¨Ù‚Ø© Ø§Ù„ØªØ­ÙƒÙ…)                   â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  streamController    â”‚  â”‚ coordinatorController â”‚               â”‚
â”‚  â”‚  â”œâ”€ startStream()    â”‚  â”‚  â”œâ”€ runWorkflow()     â”‚               â”‚
â”‚  â”‚  â””â”€ getStats()       â”‚  â”‚  â”œâ”€ runSequential()   â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”œâ”€ runParallel()     â”‚               â”‚
â”‚                             â”‚  â””â”€ runHierarchical() â”‚               â”‚
â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Services Layer (Ø·Ø¨Ù‚Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª)                    â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚   streamService      â”‚  â”‚ coordinatorService   â”‚               â”‚
â”‚  â”‚  â”œâ”€ streamWithSSE()  â”‚  â”‚  â”œâ”€ executeWorkflow() â”‚               â”‚
â”‚  â”‚  â”œâ”€ cancel()         â”‚  â”‚  â”œâ”€ executeSequential()â”‚              â”‚
â”‚  â”‚  â””â”€ getStats()       â”‚  â”‚  â”œâ”€ executeParallel() â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€ executeHierarchical()â”‚            â”‚
â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚           Other Services (30+ Ø®Ø¯Ù…Ø©)                   â”‚          â”‚
â”‚  â”‚  â€¢ metricsService    â€¢ authService                   â”‚          â”‚
â”‚  â”‚  â€¢ bookingService    â€¢ stripeService                 â”‚          â”‚
â”‚  â”‚  â€¢ youtubeService    â€¢ voiceService                  â”‚          â”‚
â”‚  â”‚  â€¢ seoService        â€¢ encryptionService             â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Utils Layer (Ø·Ø¨Ù‚Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Øª)                      â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  AgentStreaming      â”‚  â”‚ MultiAgentCoordinatorâ”‚               â”‚
â”‚  â”‚  â”œâ”€ initializeStream()â”‚  â”‚  â”œâ”€ executeSequential()â”‚             â”‚
â”‚  â”‚  â”œâ”€ sendChunk()      â”‚  â”‚  â”œâ”€ executeParallel() â”‚               â”‚
â”‚  â”‚  â”œâ”€ sendComplete()   â”‚  â”‚  â”œâ”€ executeHierarchical()â”‚            â”‚
â”‚  â”‚  â””â”€ closeStream()    â”‚  â”‚  â””â”€ registerAgent()   â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  AgentLangSmith      â”‚  â”‚  AgentCacheManager   â”‚               â”‚
â”‚  â”‚  â”œâ”€ startTrace()     â”‚  â”‚  â”œâ”€ get()             â”‚               â”‚
â”‚  â”‚  â”œâ”€ endTrace()       â”‚  â”‚  â”œâ”€ set()             â”‚               â”‚
â”‚  â”‚  â””â”€ getStats()       â”‚  â”‚  â””â”€ invalidate()      â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Agents Layer (Ø·Ø¨Ù‚Ø© Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡)                     â”‚
â”‚                          14 AI Agents                                â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ QuantumGeminiCore    â”‚  â”‚ TravelAgencyAgent    â”‚               â”‚
â”‚  â”‚ (Core Intelligence)  â”‚  â”‚ (Travel & Booking)   â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ ContentCreatorAgent  â”‚  â”‚  InnovationAgent     â”‚               â”‚
â”‚  â”‚ (Content Creation)   â”‚  â”‚ (Innovation & Ideas) â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  KarimWithMCP        â”‚  â”‚   LunaWithMCP        â”‚               â”‚
â”‚  â”‚ (Budget Optimizer)   â”‚  â”‚  (Trip Planner)      â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  ScoutWithMCP        â”‚  â”‚ AIEducationAgent     â”‚               â”‚
â”‚  â”‚  (Deal Finder)       â”‚  â”‚ (Smart Education)    â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                      â”‚
â”‚  + 6 ÙˆÙƒÙ„Ø§Ø¡ Ø¥Ø¶Ø§ÙÙŠÙŠÙ† (EmotionalAnalyzer, mini-aladdin, Ø¥Ù„Ø®.)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      MCP Layer (Ø·Ø¨Ù‚Ø© MCP)                           â”‚
â”‚                   Model Context Protocol                             â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  TravelMCPServer     â”‚  â”‚ EducationMCPServer   â”‚               â”‚
â”‚  â”‚  â”œâ”€ searchFlights()  â”‚  â”‚  â”œâ”€ getResources()   â”‚               â”‚
â”‚  â”‚  â”œâ”€ searchHotels()   â”‚  â”‚  â”œâ”€ searchContent()  â”‚               â”‚
â”‚  â”‚  â””â”€ bookTrip()       â”‚  â”‚  â””â”€ generateQuiz()   â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚  â”‚ ChatHistoryIndexer   â”‚                                          â”‚
â”‚  â”‚  â”œâ”€ indexChat()      â”‚                                          â”‚
â”‚  â”‚  â””â”€ searchHistory()  â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                External Services (Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©)                 â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ Supabase â”‚  â”‚  Redis   â”‚  â”‚  Gemini  â”‚  â”‚ LangSmithâ”‚           â”‚
â”‚  â”‚   (DB)   â”‚  â”‚ (Cache)  â”‚  â”‚   API    â”‚  â”‚(Tracing) â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ Booking  â”‚  â”‚  Stripe  â”‚  â”‚ YouTube  â”‚  â”‚ Telegram â”‚           â”‚
â”‚  â”‚   .com   â”‚  â”‚(Payment) â”‚  â”‚   API    â”‚  â”‚   Bot    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ ØªØ¯ÙÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø¨Ø« (Streaming Flow)

```
Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  â”‚
  â””â”€â†’ POST /api/stream/:agent?prompt=...
      â”‚
      â”œâ”€â†’ [Middleware]
      â”‚   â”œâ”€ authenticate (JWT/API Key)
      â”‚   â””â”€ rateLimiter (Redis-backed)
      â”‚
      â”œâ”€â†’ [streamController.startStream]
      â”‚   â”‚
      â”‚   â””â”€â†’ [streamService.streamWithSSE]
      â”‚       â”‚
      â”‚       â”œâ”€â†’ [1] AgentLangSmith.startTrace()
      â”‚       â”‚
      â”‚       â”œâ”€â†’ [2] AgentStreaming.initializeStream()
      â”‚       â”‚   â””â”€â†’ Set SSE Headers
      â”‚       â”‚       â”œâ”€ Content-Type: text/event-stream
      â”‚       â”‚       â”œâ”€ Cache-Control: no-cache
      â”‚       â”‚       â””â”€ Connection: keep-alive
      â”‚       â”‚
      â”‚       â”œâ”€â†’ [3] metricsService.recordStreamStart()
      â”‚       â”‚
      â”‚       â”œâ”€â†’ [4] req.on('close', cancel)
      â”‚       â”‚   â””â”€â†’ Handle client disconnect
      â”‚       â”‚
      â”‚       â”œâ”€â†’ [5] AgentStreaming.streamGeminiResponse()
      â”‚       â”‚   â”‚
      â”‚       â”‚   â”œâ”€â†’ [Gemini API] generateContentStream()
      â”‚       â”‚   â”‚
      â”‚       â”‚   â””â”€â†’ for await (chunk of stream)
      â”‚       â”‚       â”œâ”€â†’ sendChunk(chunk)
      â”‚       â”‚       â”‚   â””â”€â†’ res.write("data: {...}\n\n")
      â”‚       â”‚       â”‚
      â”‚       â”‚       â”œâ”€â†’ metricsService.recordStreamChunk()
      â”‚       â”‚       â”‚
      â”‚       â”‚       â””â”€â†’ sendProgress(progress%)
      â”‚       â”‚
      â”‚       â”œâ”€â†’ [6] metricsService.recordStreamComplete()
      â”‚       â”‚
      â”‚       â””â”€â†’ [7] AgentLangSmith.endTrace()
      â”‚           â””â”€â†’ Calculate cost, duration, tokens
      â”‚
      â””â”€â†’ [Response] SSE Stream â†’ Client
          â””â”€â†’ event: chunk
              event: progress
              event: complete
              event: close
```

---

## ğŸ”„ ØªØ¯ÙÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ù…Ù†Ø³Ù‚ (Coordinator Flow)

```
Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  â”‚
  â””â”€â†’ POST /api/coordinator/workflow
      â”‚ body: { workflowName, inputs }
      â”‚
      â”œâ”€â†’ [Middleware]
      â”‚   â”œâ”€ authenticate
      â”‚   â””â”€ rateLimiter
      â”‚
      â”œâ”€â†’ [coordinatorController.runWorkflow]
      â”‚   â”‚
      â”‚   â””â”€â†’ [coordinatorService.executeWorkflow]
      â”‚       â”‚
      â”‚       â”œâ”€â†’ [1] AgentLangSmith.startTrace()
      â”‚       â”‚
      â”‚       â”œâ”€â†’ [2] MultiAgentCoordinator.executeWorkflow()
      â”‚       â”‚   â”‚
      â”‚       â”‚   â”œâ”€â†’ [Strategy: Sequential]
      â”‚       â”‚   â”‚   â””â”€â†’ Agent A â†’ Agent B â†’ Agent C
      â”‚       â”‚   â”‚
      â”‚       â”‚   â”œâ”€â†’ [Strategy: Parallel]
      â”‚       â”‚   â”‚   â””â”€â†’ Agent A + Agent B + Agent C
      â”‚       â”‚   â”‚
      â”‚       â”‚   â””â”€â†’ [Strategy: Hierarchical]
      â”‚       â”‚       â””â”€â†’ Master â†’ [Sub-Agents]
      â”‚       â”‚
      â”‚       â”œâ”€â†’ [3] metricsService.recordCoordinatorWorkflow()
      â”‚       â”‚
      â”‚       â””â”€â†’ [4] AgentLangSmith.endTrace()
      â”‚           â””â”€â†’ Record workflow stats
      â”‚
      â””â”€â†’ [Response] JSON Result â†’ Client
          â””â”€â†’ { success, result, duration }
```

---

## ğŸ“Š Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù‚Ø§ÙŠÙŠØ³ (Metrics System)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Prometheus Metrics                        â”‚
â”‚                                                             â”‚
â”‚  HTTP Metrics:                                              â”‚
â”‚  â€¢ http_requests_total{method, route, status}              â”‚
â”‚  â€¢ http_request_duration_seconds{method, route, status}    â”‚
â”‚                                                             â”‚
â”‚  Streaming Metrics:                                         â”‚
â”‚  â€¢ stream_sessions_total{agent, status}                    â”‚
â”‚  â€¢ stream_chunks_sent_total{agent}                         â”‚
â”‚  â€¢ stream_session_duration_seconds{agent, status}          â”‚
â”‚  â€¢ stream_sessions_active{agent}                           â”‚
â”‚                                                             â”‚
â”‚  Coordinator Metrics:                                       â”‚
â”‚  â€¢ coordinator_workflows_total{strategy, status}           â”‚
â”‚  â€¢ coordinator_workflow_duration_seconds{strategy, status} â”‚
â”‚                                                             â”‚
â”‚  LLM Metrics:                                               â”‚
â”‚  â€¢ llm_calls_total{model, agent, status}                   â”‚
â”‚  â€¢ llm_tokens_used_total{model, agent, type}               â”‚
â”‚  â€¢ llm_cost_dollars_total{model, agent}                    â”‚
â”‚  â€¢ llm_call_duration_seconds{model, agent, status}         â”‚
â”‚                                                             â”‚
â”‚  Agent Metrics:                                             â”‚
â”‚  â€¢ agent_executions_total{agent, operation, status}        â”‚
â”‚  â€¢ agent_execution_duration_seconds{agent, operation}      â”‚
â”‚                                                             â”‚
â”‚  Cache Metrics:                                             â”‚
â”‚  â€¢ cache_operations_total{operation, status}               â”‚
â”‚  â€¢ cache_hit_rate                                          â”‚
â”‚                                                             â”‚
â”‚  Auth Metrics:                                              â”‚
â”‚  â€¢ auth_attempts_total{method, status}                     â”‚
â”‚  â€¢ rate_limit_hits_total{agent, operation}                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù…Ø§Ù† (Security System)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Security Layers                          â”‚
â”‚                                                             â”‚
â”‚  Layer 1: Authentication                                    â”‚
â”‚  â”œâ”€ JWT Token (Bearer)                                      â”‚
â”‚  â”œâ”€ API Key (x-api-key header)                              â”‚
â”‚  â””â”€ Cookie-based (optional)                                 â”‚
â”‚                                                             â”‚
â”‚  Layer 2: Authorization (RBAC)                              â”‚
â”‚  â”œâ”€ User (basic access)                                     â”‚
â”‚  â”œâ”€ Premium (advanced features)                             â”‚
â”‚  â”œâ”€ Admin (full access)                                     â”‚
â”‚  â””â”€ Internal (system access)                                â”‚
â”‚                                                             â”‚
â”‚  Layer 3: Rate Limiting                                     â”‚
â”‚  â”œâ”€ Global: 100 req/min                                     â”‚
â”‚  â”œâ”€ Per-Agent: 30-60 req/min                                â”‚
â”‚  â”œâ”€ Per-Operation: 5-20 req/min                             â”‚
â”‚  â””â”€ Redis-backed (distributed)                              â”‚
â”‚                                                             â”‚
â”‚  Layer 4: Input Validation                                  â”‚
â”‚  â”œâ”€ Schema validation (Joi)                                 â”‚
â”‚  â”œâ”€ Type checking                                           â”‚
â”‚  â””â”€ Sanitization                                            â”‚
â”‚                                                             â”‚
â”‚  Layer 5: Encryption                                        â”‚
â”‚  â”œâ”€ Data at rest (AES-256)                                  â”‚
â”‚  â”œâ”€ Data in transit (HTTPS/TLS)                             â”‚
â”‚  â””â”€ Secure Vault (credentials)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¾ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª (Caching System)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Cache Hierarchy                         â”‚
â”‚                                                             â”‚
â”‚  Level 1: Memory Cache (In-Process)                        â”‚
â”‚  â”œâ”€ Ultra-fast (< 1ms)                                      â”‚
â”‚  â”œâ”€ Limited capacity                                        â”‚
â”‚  â””â”€ Single instance only                                    â”‚
â”‚                                                             â”‚
â”‚  Level 2: Redis Cache (Distributed)                        â”‚
â”‚  â”œâ”€ Fast (1-5ms)                                            â”‚
â”‚  â”œâ”€ High capacity                                           â”‚
â”‚  â”œâ”€ Shared across instances                                 â”‚
â”‚  â””â”€ Persistence available                                   â”‚
â”‚                                                             â”‚
â”‚  Cache Strategies:                                          â”‚
â”‚  â”œâ”€ TTL-based expiration                                    â”‚
â”‚  â”œâ”€ LRU eviction                                            â”‚
â”‚  â”œâ”€ Cache invalidation on updates                           â”‚
â”‚  â””â”€ Intelligent prefetching                                 â”‚
â”‚                                                             â”‚
â”‚  Cached Data:                                               â”‚
â”‚  â”œâ”€ API responses                                           â”‚
â”‚  â”œâ”€ Agent results                                           â”‚
â”‚  â”œâ”€ User sessions                                           â”‚
â”‚  â”œâ”€ MCP tool results                                        â”‚
â”‚  â””â”€ LLM completions                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© (Monitoring System)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Monitoring Stack                          â”‚
â”‚                                                             â”‚
â”‚  LangSmith (AI Performance)                                 â”‚
â”‚  â”œâ”€ Trace all LLM calls                                     â”‚
â”‚  â”œâ”€ Track costs per agent                                   â”‚
â”‚  â”œâ”€ Monitor token usage                                     â”‚
â”‚  â””â”€ Analyze latency                                         â”‚
â”‚                                                             â”‚
â”‚  Prometheus (System Metrics)                                â”‚
â”‚  â”œâ”€ HTTP metrics                                            â”‚
â”‚  â”œâ”€ Agent metrics                                           â”‚
â”‚  â”œâ”€ Resource usage                                          â”‚
â”‚  â””â”€ Custom counters/gauges                                  â”‚
â”‚                                                             â”‚
â”‚  Health Monitoring                                          â”‚
â”‚  â”œâ”€ System health checks                                    â”‚
â”‚  â”œâ”€ Service availability                                    â”‚
â”‚  â”œâ”€ Database connectivity                                   â”‚
â”‚  â””â”€ External API status                                     â”‚
â”‚                                                             â”‚
â”‚  Logging                                                    â”‚
â”‚  â”œâ”€ Winston logger                                          â”‚
â”‚  â”œâ”€ Structured logs (JSON)                                  â”‚
â”‚  â”œâ”€ Log levels (debug, info, warn, error)                   â”‚
â”‚  â””â”€ Request tracing                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Ù†Ù‚Ø§Ø· Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (Key Endpoints)

### Streaming API
```
GET  /api/stream/:agent?prompt=...
  â†’ Stream agent responses via SSE
  
GET  /api/stream/stats/:agent?
  â†’ Get streaming statistics
```

### Coordinator API
```
POST /api/coordinator/workflow
  â†’ Execute named workflow
  
POST /api/coordinator/sequential
  â†’ Execute sequential workflow
  
POST /api/coordinator/parallel
  â†’ Execute parallel workflow
  
POST /api/coordinator/hierarchical
  â†’ Execute hierarchical workflow
  
GET  /api/coordinator/workflows
  â†’ List available workflows
  
GET  /api/coordinator/agents
  â†’ List registered agents
  
GET  /api/coordinator/stats
  â†’ Get coordinator statistics
```

### Metrics API
```
GET  /api/metrics
  â†’ Prometheus metrics (all)
  
GET  /api/metrics/json
  â†’ JSON snapshot
```

### Health API
```
GET  /api/health
  â†’ System health check
```

---

## ğŸ”„ Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ÙŠ (Typical Workflow)

### Ù…Ø«Ø§Ù„ 1: ØªØ®Ø·ÙŠØ· Ø±Ø­Ù„Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¹Ø¯Ø© ÙˆÙƒÙ„Ø§Ø¡

```
1. User Request
   â†“
2. Authentication & Rate Limiting
   â†“
3. Coordinator Service
   â”œâ”€â†’ Luna (Trip Planning)
   â”œâ”€â†’ Karim (Budget Optimization)
   â”œâ”€â†’ Scout (Deal Finding)
   â””â”€â†’ Travel Agent (Booking)
   â†“
4. Aggregate Results
   â†“
5. LangSmith Tracing
   â†“
6. Metrics Collection
   â†“
7. Response to User
```

### Ù…Ø«Ø§Ù„ 2: Ø¨Ø« Ù…Ø­ØªÙˆÙ‰ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ

```
1. User connects to SSE endpoint
   â†“
2. Stream Service initialized
   â†“
3. Gemini API streaming
   â†“
4. Chunk-by-chunk transmission
   â”œâ”€â†’ Progress updates
   â”œâ”€â†’ Metrics tracking
   â””â”€â†’ LangSmith tracing
   â†“
5. Client receives real-time updates
   â†“
6. Stream completion
```

---

## ğŸ“š Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©

- **ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø´Ø§Ù…Ù„**: `CODEBASE_STATUS_REPORT_AR.md`
- **Ø®Ø§Ø±Ø·Ø© Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„ÙÙ†ÙŠØ©**: `TECHNICAL_IMPLEMENTATION_ROADMAP_AR.md`
- **ØªÙˆØ«ÙŠÙ‚ Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡**: `AGENTS.md`
- **Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø³Ø±ÙŠØ¹**: `README.md`
- **ØªÙˆØ«ÙŠÙ‚ API**: `API_DOCUMENTATION.md`

---

*ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„ØªÙˆØ«ÙŠÙ‚ Ø¢Ù„ÙŠØ§Ù‹ - Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: 23 Ø£ÙƒØªÙˆØ¨Ø± 2025*
